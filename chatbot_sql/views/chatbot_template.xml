<odoo>
  <template id="chatbot_page" inherit_id="website.layout">
    <xpath expr="//head" position="inside">
      <style>
        /* keep it above everything */
        #chatbot, #chatToggle { 
          z-index: 2147483647 !important; 
          position: fixed !important;
          pointer-events: auto !important;
        }
        .o_grid_item, .o_grid_item_image, .o_colored_level {
          z-index: 1 !important;
        }
      </style>
    </xpath>

    <xpath expr="//main" position="inside">
      <div id="chatbot"
        style="position:fixed!important;
               z-index:2147483647!important;
               bottom:20px!important;
               right:20px!important;
               width:380px;
               height:500px;
               background:#1C1C1C; /* dark charcoal */
               border:1px solid #B8860B; /* thin gold border */
               border-radius:12px;
               box-shadow:0 4px 20px rgba(0,0,0,0.4);
               display:none;
               flex-direction:column;
               font-family:system-ui,-apple-system,sans-serif;
               color:#F8F5E9;
               pointer-events:auto!important;">

        <!-- Header -->
        <div style="background:linear-gradient(90deg,#D4AF37 0%,#B8860B 100%);
                    color:#1C1C1C;
                    padding:15px;
                    border-radius:12px 12px 0 0;
                    display:flex;
                    align-items:center;
                    justify-content:space-between;
                    font-weight:600;">
          <span>CHATBOT</span>
          <button id="toggleChat"
                  style="background:none;border:none;color:#1C1C1C;font-size:18px;cursor:pointer;">
            âˆ’
          </button>
        </div>

        <!-- Messages -->
        <div id="messagesContainer"
             style="flex:1;
                    padding:15px;
                    overflow-y:auto;
                    background:#2E2E2E;">
          <div id="welcomeMessage"
               style="text-align:center;
                      color:#F8F5E9;
                      font-size:14px;
                      margin:20px 0;">
          </div>
        </div>

        <!-- Input Area -->
        <div style="padding:15px;
                    border-top:1px solid #3E3A26;
                    background:#1C1C1C;
                    border-radius:0 0 12px 12px;">
          <div style="display:flex;gap:10px;">
            <input id="chatInput"
                   type="text"
                   placeholder="Ask about your data..."
                   style="flex:1;
                          padding:12px;
                          border:1px solid #3E3A26;
                          background:#262626;
                          color:#F8F5E9;
                          border-radius:8px;
                          outline:none;
                          font-size:14px;" />
            <button id="sendBtn"
                    style="background:linear-gradient(135deg,#C0392B 0%,#FFBF00 100%);
                           color:#fff;
                           border:none;
                           padding:12px 16px;
                           border-radius:8px;
                           cursor:pointer;
                           font-weight:600;
                           min-width:60px;">
              Send
            </button>
          </div>
        </div>
      </div>

      <!-- Floating Toggle -->
      <div id="chatToggle"
           style="position:fixed!important;
                  z-index:2147483647!important;
                  bottom:20px!important;
                  right:20px!important;
                  width:60px;
                  height:60px;
                  background:linear-gradient(135deg,#D4AF37 0%,#B8860B 100%);
                  border-radius:50%;
                  display:flex;
                  align-items:center;
                  justify-content:center;
                  cursor:pointer;
                  box-shadow:0 4px 20px rgba(0,0,0,0.4);
                  color:#1C1C1C;
                  font-size:24px;
                  pointer-events:auto!important;">
        ðŸ’¬
      </div>
    </xpath>
  </template>
</odoo>
